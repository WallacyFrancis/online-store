{"ast":null,"code":"var _jsxFileName = \"/home/wallacy/Documentos/Aulas_Trybe/Projetos/online-store/sd-014-b-project-frontend-online-store/src/components/ProductReview/ProductReview.jsx\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Rating from '../Rating';\nimport './ProductReview.css';\nconst INITIAL_STATE = {\n  email: '',\n  rating: '',\n  comment: ''\n};\nexport default class ProductReview extends Component {\n  constructor() {\n    super();\n\n    this.handleChange = ({\n      target\n    }) => {\n      const {\n        value,\n        name\n      } = target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleClick = event => {\n      event.preventDefault();\n      const customerReview = this.state;\n      const {\n        productId\n      } = this.props;\n      const savedReviews = JSON.parse(localStorage.getItem(productId));\n      localStorage.setItem(productId, JSON.stringify([...savedReviews, customerReview]));\n      this.setState(INITIAL_STATE);\n    };\n\n    this.renderSavedReviews = () => {\n      const {\n        productId\n      } = this.props;\n\n      if (!JSON.parse(localStorage.getItem(productId))) {\n        localStorage.setItem(productId, JSON.stringify([]));\n      }\n\n      const savedReviews = JSON.parse(localStorage.getItem(productId));\n      return /*#__PURE__*/React.createElement(\"section\", {\n        className: \"all-reviews-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 7\n        }\n      }, savedReviews.map((review, index) => /*#__PURE__*/React.createElement(\"div\", {\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"review-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"email-review\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 15\n        }\n      }, review.email), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"rating-review\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 15\n        }\n      }, `Nota: ${review.rating}`), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"comment-review\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 15\n        }\n      }, review.comment)), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }\n      }))));\n    };\n\n    this.state = INITIAL_STATE;\n  }\n\n  render() {\n    const {\n      email,\n      comment\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"section\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }\n    }, \"Avalia\\xE7\\xF5es\"), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"form-review\",\n      onSubmit: this.handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      name: \"email\",\n      value: email,\n      placeholder: \"Email\",\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Rating, {\n      handleChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"textarea\", {\n      name: \"comment\",\n      value: comment,\n      \"data-testid\": \"product-detail-evaluation\",\n      placeholder: \"Mensagem (opcional)\",\n      onChange: this.handleChange,\n      rows: \"3\",\n      cols: \"50\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }\n    }, \"Avaliar\")), this.renderSavedReviews());\n  }\n\n}\nProductReview.propTypes = {\n  productId: PropTypes.string.isRequired\n};","map":{"version":3,"sources":["/home/wallacy/Documentos/Aulas_Trybe/Projetos/online-store/sd-014-b-project-frontend-online-store/src/components/ProductReview/ProductReview.jsx"],"names":["React","Component","PropTypes","Rating","INITIAL_STATE","email","rating","comment","ProductReview","constructor","handleChange","target","value","name","setState","handleClick","event","preventDefault","customerReview","state","productId","props","savedReviews","JSON","parse","localStorage","getItem","setItem","stringify","renderSavedReviews","map","review","index","render","propTypes","string","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Rating from '../Rating';\nimport './ProductReview.css';\n\nconst INITIAL_STATE = {\n  email: '',\n  rating: '',\n  comment: '',\n};\n\nexport default class ProductReview extends Component {\n  constructor() {\n    super();\n\n    this.state = INITIAL_STATE;\n  }\n\n  handleChange = ({ target }) => {\n    const { value, name } = target;\n    this.setState({\n      [name]: value,\n    });\n  }\n\n  handleClick = (event) => {\n    event.preventDefault();\n    const customerReview = this.state;\n    const { productId } = this.props;\n    const savedReviews = JSON.parse(localStorage.getItem(productId));\n    localStorage.setItem(productId, JSON.stringify([...savedReviews, customerReview]));\n    this.setState(INITIAL_STATE);\n  }\n\n  renderSavedReviews = () => {\n    const { productId } = this.props;\n    if (!JSON.parse(localStorage.getItem(productId))) {\n      localStorage.setItem(productId, JSON.stringify([]));\n    }\n    const savedReviews = JSON.parse(localStorage.getItem(productId));\n    return (\n      <section className=\"all-reviews-container\">\n        { savedReviews.map((review, index) => (\n          <div key={ index }>\n            <div className=\"review-container\">\n              <p className=\"email-review\">{ review.email }</p>\n              <p className=\"rating-review\">\n                { `Nota: ${review.rating}` }\n              </p>\n              <p className=\"comment-review\">{ review.comment }</p>\n            </div>\n            <hr />\n          </div>\n        ))}\n      </section>\n    );\n  }\n\n  render() {\n    const { email, comment } = this.state;\n    return (\n      <section>\n        <h2>Avaliações</h2>\n        <form\n          className=\"form-review\"\n          onSubmit={ this.handleClick }\n        >\n          <input\n            type=\"email\"\n            name=\"email\"\n            value={ email }\n            placeholder=\"Email\"\n            onChange={ this.handleChange }\n            required\n          />\n          <Rating\n            handleChange={ this.handleChange }\n          />\n          <textarea\n            name=\"comment\"\n            value={ comment }\n            data-testid=\"product-detail-evaluation\"\n            placeholder=\"Mensagem (opcional)\"\n            onChange={ this.handleChange }\n            rows=\"3\"\n            cols=\"50\"\n          />\n          <button\n            type=\"submit\"\n          >\n            Avaliar\n          </button>\n        </form>\n        { this.renderSavedReviews() }\n      </section>\n    );\n  }\n}\n\nProductReview.propTypes = {\n  productId: PropTypes.string.isRequired,\n};\n"]},"metadata":{},"sourceType":"module"}